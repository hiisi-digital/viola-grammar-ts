name: Release

on:
  workflow_dispatch:
    inputs:
      bump:
        description: "Version bump type"
        required: true
        type: choice
        options:
          - patch
          - minor
          - major
      dry_run:
        description: "Dry run (validate without publishing)"
        required: false
        default: true
        type: boolean
      prerelease_tag:
        description: "Prerelease tag (e.g. alpha.1, beta.2)"
        required: false
        default: ""
        type: string

jobs:
  release:
    uses: hiisi-digital/.github/.github/workflows/deno-release.yml@main
    with:
      bump: ${{ inputs.bump }}
      dry_run: ${{ inputs.dry_run }}
      prerelease_tag: ${{ inputs.prerelease_tag }}
      import-example: 'import typescript from "@hiisi/viola-grammar-ts";'
